<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-45200435-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-45200435-2', { 'anonymize_ip': true });
</script>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<title>ChibiOS/RT CC3000 SPI: API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ChibiOS/RT CC3000 SPI
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">Allows a device running ChibiOS/RT to interface with TI&#39;s CC3000.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__api.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">API</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The API which will need to be used in order to correctly use this library with ChibiOS-RT. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structping_information.html">pingInformation</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds ping report information.  <a href="structping_information.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdhcp_information.html">dhcpInformation</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds DHCP information.  <a href="structdhcp_information.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcc3000_asynchronous_data.html">cc3000AsynchronousData</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure holding information updated by the asynchronous callback.  <a href="structcc3000_asynchronous_data.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga646c7c20ae2af2a39708fcdb953e69bf"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api.html#ga646c7c20ae2af2a39708fcdb953e69bf">cc3000PrintCb</a>) (const char *fmt,...)</td></tr>
<tr class="memdesc:ga646c7c20ae2af2a39708fcdb953e69bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Format of the callback function used to print debug information.  <a href="#ga646c7c20ae2af2a39708fcdb953e69bf">More...</a><br /></td></tr>
<tr class="separator:ga646c7c20ae2af2a39708fcdb953e69bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gabf20510c428ae7073749327f888d035e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api.html#gabf20510c428ae7073749327f888d035e">cc3000ChibiosWlanInit</a> (SPIDriver *initialisedSpiDriver, SPIConfig *configuredSpi, EXTDriver *initialisedExtDriver, EXTConfig *configuredExt, tFWPatches sFWPatches, tDriverPatches sDriverPatches, tBootLoaderPatches sBootLoaderPatches, <a class="el" href="group__api.html#ga646c7c20ae2af2a39708fcdb953e69bf">cc3000PrintCb</a> printCallback)</td></tr>
<tr class="memdesc:gabf20510c428ae7073749327f888d035e"><td class="mdescLeft">&#160;</td><td class="mdescRight">To be used instead of wlan_init().  <a href="#gabf20510c428ae7073749327f888d035e">More...</a><br /></td></tr>
<tr class="separator:gabf20510c428ae7073749327f888d035e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6a1daf280adc1c6b63ce90a5129cca2b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api.html#ga6a1daf280adc1c6b63ce90a5129cca2b">cc3000ChibiosShutdown</a> (void)</td></tr>
<tr class="memdesc:ga6a1daf280adc1c6b63ce90a5129cca2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Responsible for full shut down of the driver.  <a href="#ga6a1daf280adc1c6b63ce90a5129cca2b">More...</a><br /></td></tr>
<tr class="separator:ga6a1daf280adc1c6b63ce90a5129cca2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga417bd5d3b2c061272ab763a9529c3d8f"><td class="memItemLeft" align="right" valign="top">volatile <a class="el" href="structcc3000_asynchronous_data.html">cc3000AsynchronousData</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api.html#ga417bd5d3b2c061272ab763a9529c3d8f">cc3000AsyncData</a></td></tr>
<tr class="memdesc:ga417bd5d3b2c061272ab763a9529c3d8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asynchronous information provided by the CC3000.  <a href="#ga417bd5d3b2c061272ab763a9529c3d8f">More...</a><br /></td></tr>
<tr class="separator:ga417bd5d3b2c061272ab763a9529c3d8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga646c7c20ae2af2a39708fcdb953e69bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga646c7c20ae2af2a39708fcdb953e69bf">&#9670;&nbsp;</a></span>cc3000PrintCb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* cc3000PrintCb) (const char *fmt,...)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Format of the callback function used to print debug information. </p>
<p><code>fmt</code> is a chprintf style formatted string, and the remaining arguments are variables for the string place holders. </p>

<p class="definition">Definition at line <a class="el" href="cc3000__chibios__api_8h_source.html#l00046">46</a> of file <a class="el" href="cc3000__chibios__api_8h_source.html">cc3000_chibios_api.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga6a1daf280adc1c6b63ce90a5129cca2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6a1daf280adc1c6b63ce90a5129cca2b">&#9670;&nbsp;</a></span>cc3000ChibiosShutdown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cc3000ChibiosShutdown </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Responsible for full shut down of the driver. </p>
<p>This deactivates the CC3000 driver by terminating threads and any other resources that need to be used. It is unlikely to be often used, since for stopping the CC3000 the host driver function wlan_stop() should be used. </p>

<p class="definition">Definition at line <a class="el" href="cc3000__spi_8c_source.html#l00791">791</a> of file <a class="el" href="cc3000__spi_8c_source.html">cc3000_spi.c</a>.</p>

</div>
</div>
<a id="gabf20510c428ae7073749327f888d035e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabf20510c428ae7073749327f888d035e">&#9670;&nbsp;</a></span>cc3000ChibiosWlanInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cc3000ChibiosWlanInit </td>
          <td>(</td>
          <td class="paramtype">SPIDriver *&#160;</td>
          <td class="paramname"><em>initialisedSpiDriver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SPIConfig *&#160;</td>
          <td class="paramname"><em>configuredSpi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EXTDriver *&#160;</td>
          <td class="paramname"><em>initialisedExtDriver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EXTConfig *&#160;</td>
          <td class="paramname"><em>configuredExt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tFWPatches&#160;</td>
          <td class="paramname"><em>sFWPatches</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tDriverPatches&#160;</td>
          <td class="paramname"><em>sDriverPatches</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tBootLoaderPatches&#160;</td>
          <td class="paramname"><em>sBootLoaderPatches</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__api.html#ga646c7c20ae2af2a39708fcdb953e69bf">cc3000PrintCb</a>&#160;</td>
          <td class="paramname"><em>printCallback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>To be used instead of wlan_init(). </p>
<p>Responsible for storing drivers and their configurations, then calling wlan_init(). Hardware should be correctly configured before calling this function:</p><ul>
<li>GPIO <a class="el" href="group__config.html#ga3f186f9addfb5af948874755edbb01e1" title="Pin being used for interrupt pin monitoring. ">CHIBIOS_CC3000_IRQ_PAD</a> - input.</li>
<li>GPIO <a class="el" href="group__config.html#gaf7e3f463798761caa8ff5aab5dbe6d76" title="Pin used for SPI MISO aka CC3000 DOUT. ">CHIBIOS_CC3000_MISO_PAD</a> - input.</li>
<li>GPIO <a class="el" href="group__config.html#gaab5cdc18c52c272bb22fd145303fb22c" title="Pin used for SPI chip select of CC3000. ">CHIBIOS_CC3000_NSS_PAD</a> - output.</li>
<li>GPIO <a class="el" href="group__config.html#gae97b6900264f6b6dfb81595bf24d43ad" title="Pin used for SPI clock. ">CHIBIOS_CC3000_SCK_PAD</a> - output.</li>
<li>GPIO <a class="el" href="group__config.html#ga516419808764384802137df2c4a8ac10" title="Pin used for SPI MOSI aka CC3000 DIN. ">CHIBIOS_CC3000_MOSI_PAD</a> - output.</li>
<li>GPIO <a class="el" href="group__config.html#gae59cbda34d9566999b86850fe60c25a5" title="Pin being used for WLAN Enable control. ">CHIBIOS_CC3000_WLAN_EN_PAD</a> - output.</li>
<li>SPI driver - initialised (<code>initialisedSpiDriver</code>).</li>
<li>SPI config - desired hardware configuration set (<code>configuredSpi</code>).</li>
<li>EXT driver - initialised (<code>initialisedExtDriver</code>).</li>
<li>EXT config - no specifc configuration required (<code>configuredExt</code>).</li>
</ul>
<p>See <a class="el" href="hardware_setup_stm32l152_8c-example.html">hardware_setup_stm32l152.c</a> for an example of the hardware setup on a STM32 platform.</p>
<dl class="section warning"><dt>Warning</dt><dd>All pointers marked [in,out] are expected to remain in memory i.e. they should be global or similar. </dd>
<dd>
Ensure configuration in <a class="el" href="cc3000__chibios__config_8h.html" title="Contains all configuration to use this library with ChibiOS/RT. ">cc3000_chibios_config.h</a> is correct before calling this function.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">initialisedSpiDriver</td><td>A pointer to an already initialised ChibiOS SPI Driver. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">configuredSpi</td><td>A ChibiOS SPIConfig structure that at a minimum has any hardware registers correctly configured. This will be copied to an internal structure. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">initialisedExtDriver</td><td>A pointer to an already initialised ChibiOS EXT driver. It will be started in this function. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">configuredExt</td><td>A pointer to the existing EXT config that will be updated with the IRQ channel. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sFWPatches</td><td>See TI's documentation for wlan_init(). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sDriverPatches</td><td>See TI's documentation for wlan_init(). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sBootLoaderPatches</td><td>See TI's documentation for wlan_init(). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">printCallback</td><td>User defined debug print function. It is only used if <a class="el" href="group__config.html#gab5ef453351273ed8cec165a56a2358d4" title="Set to TRUE to enable basic debug print callbacks from the SPI Driver. ">CHIBIOS_CC3000_DBG_PRINT_ENABLED</a> is TRUE. In such a case it cannot be NULL. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="cc3000__spi_8c_source.html#l00730">730</a> of file <a class="el" href="cc3000__spi_8c_source.html">cc3000_spi.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ga417bd5d3b2c061272ab763a9529c3d8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga417bd5d3b2c061272ab763a9529c3d8f">&#9670;&nbsp;</a></span>cc3000AsyncData</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="structcc3000_asynchronous_data.html">cc3000AsynchronousData</a> cc3000AsyncData</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Asynchronous information provided by the CC3000. </p>
<p>This is updated whenever the asynchronous callback is fired. Its elements will require to be manually cleared in some circumstances to ensure the information is still relevant. </p>

<p class="definition">Definition at line <a class="el" href="async__handler_8c_source.html#l00057">57</a> of file <a class="el" href="async__handler_8c_source.html">async_handler.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue May 8 2018 22:53:56 for ChibiOS/RT CC3000 SPI by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
